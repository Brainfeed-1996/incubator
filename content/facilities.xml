<?xml version="1.0" encoding="utf-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!DOCTYPE document
[
<!ENTITY root-path   '.'> <!-- The path to the incubator root -->
]>

<document>
  <properties>
    <title>Facilities for Incubator management</title>
  </properties>
  <body>
    <section id="preamble">
      <title>Facilities for Incubator management</title>
      <section id='TOC'><title>Contents</title><toc/></section>
      <section id="overview">
        <title>Overview</title>
        <p>
          Describes the various facilities that assist with Incubator management,
          explains how are they generated, and emphasises the need to keep the project
          summary metadata up-to-date.
        </p>
        <p>
          This assists with management of the Incubator project as a whole,
          and is also useful for each project to manage their own progress
          through incubation.
        </p>
      </section>
    </section>
    <section id="metadata">
      <title>Metadata</title>
      <p>
        First the metadata. Each project needs to maintain their entry in the
        content/podlings.xml file in SVN
        (see <a href="guides/mentor.html#Overview">notes</a>).
        The following facilities rely on that being up-to-date.
        Please be a self-sufficient project from the very beginning.
        Do not wait for your Mentors - it is up to you.
      </p>
      <p>
        Add the entry for your project as soon as possible after the Acceptance
        phase is complete. Keep it up-to-date throughout your incubation
        (e.g. mentor changes) and during the
        <a href="/guides/graduation.html#unincubate">graduation</a> phases.
      </p>
    </section>
    <section id="publish">
      <title>Remember to publish the generated results</title>
      <p>
        When changes are committed to the podlings.xml summary file,
        then the CMS is triggered and generates the following facilities.
        Please follow through to publish the changes.
        See <a href="/guides/website.html">notes</a>.
      </p>
    </section>
    <section id="current-podlings">
      <title>Overview list of current podlings</title>
      <p>
        The "<a href="/projects/#current">Currently in incubation</a>" table.
        Shows Description, Champion, Mentors, and Start date.
      </p>
      <p>
        Note that each project can be directly referenced, e.g.
        <a href="/projects/#allura">http://incubator.apache.org/projects/#allura</a>
      </p>
      <p>
        Generated by CMS from podlings.xml using content/stylesheets/project-index.xsl file.
        See notes in that stylesheet and at build.xml file.
      </p>
      <p>
        Also the concise table on the Incubator home page.
      </p>
    </section>
    <section id="report-schedule">
      <title>Monthly Reporting Schedule</title>
      <p>
        <a href="/report-groups.txt">http://incubator.apache.org/report-groups.txt</a>
      </p>
      <p>
        Generated by CMS from podlings.xml using report-groups.xsl file.
        See notes in that stylesheet and at build.xml file.
      </p>
    </section>
    <section id="report-next-month">
      <title>Reporting next month</title>
      <p>
        <a href="/report-next-month.html">http://incubator.apache.org/report-next-month.html</a>
      </p>
      <p>
        Generated by CMS from podlings.xml using report-next-month.xsl file.
        See notes in that stylesheet and at build.xml file.
      </p>
    </section>
    <section id="report-prep">
      <title>Monthly Report preparation</title>
      <p>
        The input to the IPMC report to the Board.
        See <a href="http://wiki.apache.org/incubator/#Board_Reports">Overview</a>
        and table of reports.
      </p>
      <p>
        The Wiki report templates are generated manually around the changeover to each new month.
      </p>
      <p>
        Generated manually from clutch.pkl (hence dependent on podlings.xml) using clutch2report.py file.
        See <a href="http://wiki.apache.org/incubator/ReportTools">notes</a>.
      </p>
    </section>
    <section id="shepherds">
      <title>Shepherds</title>
      <p>
        Each month a set of shepherds are assigned to cast fresh eyes over
        the state of each podling.
      </p>
      <p>
        Anyone can be a shepherd. Please add and maintain your entry in the
        content/shepherds.json file in SVN.
      </p>
      <p>
        The script assign_shepherds.py uses that data around the beginning of
        each month to generate the relevant sections of the monthly report
        wiki page.
      </p>
    </section>
    <section id="clutch">
      <title>Status of the Clutch</title>
      <p>
        The <a href="/clutch.html">Clutch</a> table shows the status of
        various aspects of incubation for each current project.
        It also <a href="/clutch.html#steps">explains</a> each step
        and links to some relevant documentation.
      </p>
      <p>
        Note that each project row can be directly referenced, e.g.
        <a href="/clutch.html#allura">http://incubator.apache.org/clutch.html/#allura</a>
      </p>
      <p>
        Clutch uses podlings.xml and each project status page and other resources.
        Run this manually from the top of SVN.
        See operational <a href="/clutch.html#notes">notes</a> and other notes in clutch.py
      </p>
      <p>
        These are some of the resources that are consulted:
      </p>
      <ul>
        <li>
          The podling summary <a href="#metadata">metadata</a>.
        </li>
        <li>
          Each podling status page.
        </li>
        <li>
          The listing of all ASF
          <a href="http://people.apache.org/committers-by-project.html">committers-by-project</a>.
          (FIXME: Note that some recent projects are completely missing from that page,
          e.g. Allura, Helix, etc.)
        </li>
        <li>
          The listing of all project
          <a href="http://mail-archives.apache.org/mod_mbox/">mail lists</a> archives.
          If your podling is missing, then it might be because the first posts
          are not yet moderated through.
        </li>
        <li>
          The listing of all
          <a href="http://svn.apache.org/repos/asf/incubator">Incubator SVN</a>.
        </li>
        <li>
          The listing of all Incubator release distribution areas at a.o/dist/incubator/
        </li>
      </ul>
    </section>
    <section id="reminders">
      <title>Reporting reminder emails</title>
      <p>
        At the beginning of each month, reminder emails are automatically sent
        to the dev mail list for each project that is due to report.
        Note that these are just reminders, as each project already knows when
        they are reporting.
      </p>
      <p>
        Ensure that your podling summary <a href="#metadata">metadata</a>
        is up-to-date. If you have finished the initial "every month for three months"
        phase then edit the "reporting" element to go on quarterly rotation,
        otherwise you will keep getting reminders.
      </p>
      <p>
        There are three groups:<br/>
        group-1=Jan,Apr,Jul,Oct group-2=Feb,May,Aug,Nov group-3=Mar,Jun,Sep,Dec
      </p>
      <p>
        The reminder robot uses the lists of report_due_*.txt files, being the
        dev mail list addresses of the set of projects that are due to report.
        Gathered, validated, and output by Clutch.
        See <a href="/clutch.html#data">data files</a> and
        <a href="/clutch.html#notes">notes</a>.
      </p>
      <p>
        See the
        "<a href="https://svn.apache.org/repos/infra/infrastructure/trunk/tools/board_reminders/">board_reminders</a>"
        code in infrastructure SVN.
      </p>
      <p>
        Note: Eventually it would be good to extract the handling of these
        lists away from Clutch.
      </p>
    </section>
    <section id="age">
      <title>Incubator podlings by age</title>
      <p>
        <a href="https://whimsy.apache.org/incubator/podlings/by-age">Incubator podlings by age</a>
      </p>
      <p>
        Uses podlings.xml file.
        See <a href="https://svn.apache.org/repos/infra/infrastructure/trunk/projects/whimsy/">whimsy</a>
        code in infrastructure SVN.
      </p>
    </section>
    <section id="history">
      <title>Incubator history</title>
      <p>
        <a href="/history/">http://incubator.apache.org/history/</a>
      </p>
      <p>
        Generated by CMS from podlings.xml using current.xsl file and entry.xsl file.
        See notes in that stylesheet and at build.xml file.
        This generates two files in the "history" directory
        (current.txt and entry.txt) which are then utilised by the timeplot.
      </p>
    </section>
    <section id="others">
      <title>Others yet to be documented</title>
<pre>
* List of Mentors:
The Overview list shows the Mentors for each podling. See #current-podlings above.
Also there is a list of the Mentors and their podlings:
http://incubator.apache.org/clutch.html#mentors
gathered from podlings.xml

* Ant target "ppmc-aliases".

* The "tools" directory in SVN.
</pre>
    </section>
  </body>
</document>
